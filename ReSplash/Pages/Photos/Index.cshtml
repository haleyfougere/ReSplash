@page
@model ReSplash.Pages.Photos.IndexModel

@{
    ViewData["Title"] = "Index";
}

<h1>My Photos</h1>

<p>
    <a asp-page="Create" class="btn btn-outline-dark">Create New</a>
</p>

@foreach (var item in Model.Photos)
{
    string imagePath = "~/photos/" + item.FileName;

    <div class="row">
        <div class="col-md-4">
            <img src="@Url.Content(imagePath)" class="img-fluid">
        </div>

        <div class="col-md-8">
            <p>Published @item.PublishDate.ToString("MMM dd, yyyy")</p>

            <p>@item.Description</p>

            <p>Views: @item.ImageViews &nbsp;&nbsp; Downloads: @item.ImageDownloads</p>

            <p>@item.Location</p>

            <p>
                <a asp-page="./Edit" asp-route-id="@item.PhotoId" class="btn btn-outline-dark">Edit</a>&nbsp;&nbsp;
                <a asp-page="./Delete" asp-route-id="@item.PhotoId" class="btn btn-outline-dark">Delete</a>
            </p>
        </div>

    </div>

    <br />
}
